<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>user media</title>
</head>

<body>

<section id="app" hidden>
    <video id="show" autoplay></video>
</section>

<script>
function init(){
    var video = document.getElementById("show");
    var app = document.getElementById("app");
    // navigator.getUserMedia({audio:true, video:true}, gotStream, function(err){
    //     console.log("获取摄像头失败");
    //     console.log(err);
    // });
    navigator.mediaDevices.getUserMedia({ audio: true, video: true }).then(function(stream) {
        video.srcObject = stream;
        app.hidden = false;
    });
    // function gotStream(stream) {
    //     var URL = window.webkitURL ? window.webkitURL : window.URL;
    //     video.src = URL.createObjectURL(stream);
    //     app.hidden = false;
    // }
}
init();
</script>

</script>
</body>
</html>
